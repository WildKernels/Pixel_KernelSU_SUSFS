name: Pixel Kernel Config

permissions:
  contents: write
  actions: write

on:
  workflow_call:
    inputs:
      ksu_commit:
        required: false
        type: string

jobs:
  build-kernel-custom:
    strategy:
      fail-fast: false
      matrix:
        include:
        - device: "6 & 6 Pro"
          codename: "raviole"
          version: "6.1-android16"
        - device: "6a"
          codename: "bluejay"
          version: "6.1-android16"
        - device: "7 & 7 Pro"
          codename: "pantah"
          version: "6.1-android16"
        - device: "7a"
          codename: "lynx"
          version: "6.1-android16"
        - device: "Tablet"
          codename: "tangorpro"
          version: "6.1-android16"
        - device: "Fold"
          codename: "felix"
          version: "6.1-android16"
        - device: "8 & 8 Pro"
          codename: "shusky"
          version: "6.1-android16"
        - device: "8a"
          codename: "akita"
          version: "6.1-android16"
        - device: "9 & 9 Pro & 9 Pro XL"
          codename: "caimito"
          version: "6.1-android16"
        - device: "9 Pro Fold"
          codename: "comet"
          version: "6.1-android16"
        - device: "9a"
          codename: "tegu"
          version: "6.1-android16"

    uses: ./.github/workflows/build.yml
    secrets: inherit
    with:
      device: ${{ matrix.device }}
      codename: ${{ matrix.codename }}
      version: ${{ matrix.version }}
      ksu_commit: ${{ inputs.ksu_commit }}
